<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 4.6.0.v201606072122</property>
    <property name="units">in</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">72</property>
    <list-property name="libraries">
        <structure>
            <property name="fileName">library.rptdesign.rptlibrary</property>
            <property name="namespace">library</property>
        </structure>
    </list-property>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Data Source" id="27"
 extends="library.Data Source"/>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="Balance" id="28">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">invoice_id</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">invoice_id</text-property>
                    <text-property name="heading">invoice_id</text-property>
                </structure>
                <structure>
                    <property name="columnName">customer_id</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">customer_id</text-property>
                    <text-property name="heading">customer_id</text-property>
                </structure>
                <structure>
                    <property name="columnName">serviceorder_id</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">serviceorder_id</text-property>
                    <text-property name="heading">serviceorder_id</text-property>
                </structure>
                <structure>
                    <property name="columnName">total</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">total</text-property>
                    <text-property name="heading">total</text-property>
                </structure>
                <structure>
                    <property name="columnName">total_payed</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">total_payed</text-property>
                    <text-property name="heading">total_payed</text-property>
                </structure>
                <structure>
                    <property name="columnName">invoice_date</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">invoice_date</text-property>
                    <text-property name="heading">invoice_date</text-property>
                </structure>
                <structure>
                    <property name="columnName">customer_name</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">customer_name</text-property>
                    <text-property name="heading">customer_name</text-property>
                </structure>
                <structure>
                    <property name="columnName">InvoiceStatus</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">InvoiceStatus</text-property>
                    <text-property name="heading">InvoiceStatus</text-property>
                </structure>
                <structure>
                    <property name="columnName">Balance</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">Balance</text-property>
                    <text-property name="heading">Balance</text-property>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">invoice_id</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">customer_id</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">serviceorder_id</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">total</property>
                        <property name="dataType">float</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">total_payed</property>
                        <property name="dataType">float</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">invoice_date</property>
                        <property name="dataType">date-time</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">customer_name</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">InvoiceStatus</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">Balance</property>
                        <property name="dataType">float</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">invoice_id</property>
                    <property name="nativeName">invoice_id</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">customer_id</property>
                    <property name="nativeName">customer_id</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">serviceorder_id</property>
                    <property name="nativeName">serviceorder_id</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">total</property>
                    <property name="nativeName">total</property>
                    <property name="dataType">float</property>
                    <property name="nativeDataType">8</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">total_payed</property>
                    <property name="nativeName">total_payed</property>
                    <property name="dataType">float</property>
                    <property name="nativeDataType">8</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">invoice_date</property>
                    <property name="nativeName">invoice_date</property>
                    <property name="dataType">date-time</property>
                    <property name="nativeDataType">93</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">customer_name</property>
                    <property name="nativeName">customer_name</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">InvoiceStatus</property>
                    <property name="nativeName">InvoiceStatus</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">9</property>
                    <property name="name">Balance</property>
                    <property name="nativeName">Balance</property>
                    <property name="dataType">float</property>
                    <property name="nativeDataType">8</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select ref_number as invoice_id,customer_id,serviceorder_id,total, total_payed, invoice_date, customer_name,
IF(invoice_status=1,'Created',IF(invoice_status=2,'Closed',IF(invoice_status=3,'Closed and transmitted',IF(invoice_status=4,'Signed','Unknown')))) as InvoiceStatus,
(total-total_payed) as Balance
 from Invoices where (total-total_payed)>0 and company_id=1 and invoice_status<>11]]></xml-property>
        </oda-data-set>
    </data-sets>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <page-header>
                <grid id="99">
                    <column id="100"/>
                    <row id="101">
                        <cell id="102">
                            <label id="103">
                                <property name="fontSize">18pt</property>
                                <property name="fontWeight">bold</property>
                                <property name="textAlign">center</property>
                                <text-property name="text">Invoice report with balance (QM)</text-property>
                            </label>
                        </cell>
                    </row>
                </grid>
            </page-header>
            <page-footer>
                <text id="3">
                    <property name="contentType">html</property>
                    <text-property name="content"><![CDATA[Report of date: <value-of>new Date()</value-of>]]></text-property>
                </text>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <table id="29">
            <property name="dataSet">Balance</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">invoice_id</property>
                    <text-property name="displayName">invoice_id</text-property>
                    <expression name="expression" type="javascript">dataSetRow["invoice_id"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">serviceorder_id</property>
                    <text-property name="displayName">serviceorder_id</text-property>
                    <expression name="expression" type="javascript">dataSetRow["serviceorder_id"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">total</property>
                    <text-property name="displayName">total</text-property>
                    <expression name="expression" type="javascript">dataSetRow["total"]</expression>
                    <property name="dataType">float</property>
                </structure>
                <structure>
                    <property name="name">total_payed</property>
                    <text-property name="displayName">total_payed</text-property>
                    <expression name="expression" type="javascript">dataSetRow["total_payed"]</expression>
                    <property name="dataType">float</property>
                </structure>
                <structure>
                    <property name="name">invoice_date</property>
                    <text-property name="displayName">invoice_date</text-property>
                    <expression name="expression" type="javascript">dataSetRow["invoice_date"]</expression>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="name">customer_name</property>
                    <text-property name="displayName">customer_name</text-property>
                    <expression name="expression" type="javascript">dataSetRow["customer_name"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">InvoiceStatus</property>
                    <text-property name="displayName">InvoiceStatus</text-property>
                    <expression name="expression" type="javascript">dataSetRow["InvoiceStatus"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Balance</property>
                    <text-property name="displayName">Balance</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Balance"]</expression>
                    <property name="dataType">float</property>
                </structure>
            </list-property>
            <column id="73"/>
            <column id="74"/>
            <column id="77"/>
            <column id="78"/>
            <column id="79"/>
            <column id="89">
                <property name="repeat">1</property>
            </column>
            <column id="76">
                <property name="repeat">1</property>
            </column>
            <column id="80"/>
            <header>
                <row id="30">
                    <property name="borderBottomStyle">solid</property>
                    <property name="borderBottomWidth">medium</property>
                    <property name="borderLeftStyle">solid</property>
                    <property name="borderLeftWidth">medium</property>
                    <property name="borderRightStyle">solid</property>
                    <property name="borderRightWidth">medium</property>
                    <property name="borderTopStyle">solid</property>
                    <property name="borderTopWidth">medium</property>
                    <cell id="31">
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">medium</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">medium</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">medium</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">medium</property>
                        <label id="32">
                            <text-property name="text">Ref Number</text-property>
                        </label>
                    </cell>
                    <cell id="33">
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">medium</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">medium</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">medium</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">medium</property>
                        <label id="34">
                            <text-property name="text">Service Order</text-property>
                        </label>
                    </cell>
                    <cell id="39">
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">medium</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">medium</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">medium</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">medium</property>
                        <label id="40">
                            <text-property name="text">Date</text-property>
                        </label>
                    </cell>
                    <cell id="41">
                        <label id="42">
                            <text-property name="text">Customer Name</text-property>
                        </label>
                    </cell>
                    <cell id="43">
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">medium</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">medium</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">medium</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">medium</property>
                        <label id="44">
                            <text-property name="text">Invoice Status</text-property>
                        </label>
                    </cell>
                    <cell id="90">
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">medium</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">medium</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">medium</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">medium</property>
                        <label id="91">
                            <text-property name="text">Total</text-property>
                        </label>
                    </cell>
                    <cell id="37">
                        <property name="borderBottomStyle">solid</property>
                        <property name="borderBottomWidth">medium</property>
                        <property name="borderLeftStyle">solid</property>
                        <property name="borderLeftWidth">medium</property>
                        <property name="borderRightStyle">solid</property>
                        <property name="borderRightWidth">medium</property>
                        <property name="borderTopStyle">solid</property>
                        <property name="borderTopWidth">medium</property>
                        <label id="38">
                            <text-property name="text">Total Payed</text-property>
                        </label>
                    </cell>
                    <cell id="45">
                        <label id="46">
                            <text-property name="text">Balance</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="47">
                    <property name="borderBottomStyle">solid</property>
                    <property name="borderBottomWidth">medium</property>
                    <property name="borderLeftStyle">solid</property>
                    <property name="borderLeftWidth">medium</property>
                    <property name="borderRightStyle">solid</property>
                    <property name="borderRightWidth">medium</property>
                    <property name="borderTopStyle">solid</property>
                    <property name="borderTopWidth">medium</property>
                    <property name="pageBreakBefore">avoid</property>
                    <list-property name="highlightRules">
                        <structure>
                            <property name="operator">ne</property>
                            <property name="backgroundColor">#C9FFE9</property>
                            <expression name="testExpr" type="javascript">row.__rownum % 2</expression>
                            <simple-property-list name="value1">
                                <value type="javascript">0</value>
                            </simple-property-list>
                        </structure>
                    </list-property>
                    <cell id="48">
                        <data id="49">
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">center</property>
                            <property name="resultSetColumn">invoice_id</property>
                        </data>
                    </cell>
                    <cell id="50">
                        <data id="51">
                            <property name="fontWeight">bold</property>
                            <property name="textAlign">center</property>
                            <property name="resultSetColumn">serviceorder_id</property>
                        </data>
                    </cell>
                    <cell id="56">
                        <data id="57">
                            <structure name="dateTimeFormat">
                                <property name="category">Custom</property>
                                <property name="pattern">MM/dd/yyyy</property>
                                <property name="locale">en</property>
                            </structure>
                            <property name="resultSetColumn">invoice_date</property>
                        </data>
                    </cell>
                    <cell id="58">
                        <data id="59">
                            <property name="fontStyle">italic</property>
                            <property name="resultSetColumn">customer_name</property>
                        </data>
                    </cell>
                    <cell id="60">
                        <data id="61">
                            <property name="fontWeight">bold</property>
                            <property name="resultSetColumn">InvoiceStatus</property>
                        </data>
                    </cell>
                    <cell id="92">
                        <data id="93">
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">###0.00{RoundingMode=HALF_UP}</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="resultSetColumn">total</property>
                        </data>
                    </cell>
                    <cell id="54">
                        <data id="55">
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">###0.00{RoundingMode=HALF_UP}</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="resultSetColumn">total_payed</property>
                        </data>
                    </cell>
                    <cell id="62">
                        <data id="63">
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">###0.00{RoundingMode=HALF_UP}</property>
                            </structure>
                            <property name="textAlign">right</property>
                            <property name="resultSetColumn">Balance</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="64">
                    <cell id="65"/>
                    <cell id="66"/>
                    <cell id="69"/>
                    <cell id="70"/>
                    <cell id="71"/>
                    <cell id="94"/>
                    <cell id="68"/>
                    <cell id="72"/>
                </row>
            </footer>
        </table>
    </body>
</report>
